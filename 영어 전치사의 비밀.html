<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ì–´ ì „ì¹˜ì‚¬ì˜ ë¹„ë°€: ê³µê°„ì—ì„œ ì¶”ìƒìœ¼ë¡œ (v2)</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif, Arial, Helvetica;
            line-height: 1.8;
            color: #2c3e50;
            background-color: #ecf0f1;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .slide-deck-container {
            width: 95%;
            max-width: 950px; /* í‘œë¥¼ ìœ„í•´ ë„ˆë¹„ ì•½ê°„ ì¦ê°€ */
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            margin: 25px;
        }

        .slides {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .slide {
            min-width: 100%;
            box-sizing: border-box;
            padding: 35px 45px;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
            position: relative;
            min-height: 600px; /* ë‚´ìš© ì¦ê°€ë¡œ ë†’ì´ ì¡°ì • */
            display: none;
            overflow-y: auto;
        }

        .slide.active {
            opacity: 1;
            display: block;
        }

        .slide-number {
            position: absolute;
            bottom: 20px;
            right: 25px;
            font-size: 0.95em;
            color: #bdc3c7;
        }

        h1, h2, h3, h4 {
            color: #2980b9;
            margin-bottom: 1em;
            line-height: 1.3;
        }
        h1 { font-size: 2.3em; font-weight: 700; text-align: center; margin-top: 0; margin-bottom: 1.6em; border-bottom: 3px solid #3498db; padding-bottom: 0.6em;}
        h2 { font-size: 1.9em; font-weight: 600; margin-top: 1.6em; color: #2c3e50; }
        h3 { font-size: 1.5em; font-weight: 600; margin-top: 1.3em; color: #34495e; }
        h4 { font-size: 1.25em; font-weight: 600; margin-top: 1.1em; color: #7f8c8d; }

        p, li {
            margin-bottom: 1.1em;
            font-size: 1.1em;
        }
        ul, ol { padding-left: 2em; }
        li { margin-bottom: 0.6em; }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            padding: 20px 45px;
            background-color: #34495e;
            border-top: 1px solid #2c3e50;
        }

        .nav-button {
            padding: 12px 25px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05em;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .nav-button:hover { background-color: #2980b9; }
        .nav-button:active { transform: translateY(1px); }
        .nav-button:disabled { background-color: #95a5a6; cursor: not-allowed; }

        .code-tag {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            background-color: #ecf0f1;
            padding: 3px 6px;
            border-radius: 5px;
            font-size: 0.95em;
            color: #2980b9;
            border: 1px solid #bdc3c7;
        }

        .highlight {
            background-color: #f1c40f;
            padding: 2px 5px;
            border-radius: 4px;
            font-weight: 600;
            color: #7f8c8d;
        }

        .example {
            background-color: #eaf6ff;
            border-left: 5px solid #3498db;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .example em { font-weight: 600; color: #2980b9; }
        .example-annotation { font-size: 0.9em; color: #7f8c8d; margin-left: 10px; font-style: italic; }

        .mermaid {
            margin: 30px auto;
            background-color: #fdfefe;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }

        .d3-visualization {
            width: 100%;
            min-height: 250px;
            border: 1px solid #dde4e6;
            border-radius: 8px;
            margin-top: 25px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9f9;
            overflow: hidden;
        }
        .d3-text { font-size: 14px; fill: #34495e; }
        .d3-label { font-size: 12px; fill: #7f8c8d; text-anchor: middle; }
        .d3-arrow { stroke: #3498db; stroke-width: 2; marker-end: url(#arrowhead); }
        
        .interactive-area { padding: 15px; border: 1px dashed #3498db; border-radius: 8px; margin-top: 20px; background-color: #f4faff; }
        .interactive-area button { background-color: #3498db; color: white; border: none; padding: 8px 12px; margin: 5px; border-radius: 5px; cursor: pointer; }
        .interactive-area button:hover { background-color: #2980b9; }
        
        .popup { display: none; position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: white; padding: 25px; border: 1px solid #bdc3c7; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1000; max-width: 80%; }
        .popup-content { text-align: center; }
        .popup-close { position: absolute; top: 10px; right: 15px; font-size: 1.5em; font-weight: bold; cursor: pointer; color: #7f8c8d; }

        /* í‘œ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        table.concept-table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.95em; }
        table.concept-table th, table.concept-table td { border: 1px solid #bdc3c7; padding: 10px 12px; }
        table.concept-table th { background-color: #3498db; color: white; font-weight: bold; }
        table.concept-table tr:nth-child(even) { background-color: #f8f9f9; }
        .footnote { font-size: 0.85em; color: #7f8c8d; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="slide-deck-container">
        <div class="slides">
            <!-- Slide 1: Intro (ìœ ì§€) -->
            <div class="slide active" id="slide1">
                <h1>ì˜ì–´ ì „ì¹˜ì‚¬ì˜ ë¹„ë°€: ê³µê°„ì—ì„œ ì¶”ìƒìœ¼ë¡œì˜ ì—¬ì •</h1>
                <p>ì˜ì–´ ì „ì¹˜ì‚¬ëŠ” ë‹¨ìˆœí•œ ìœ„ì¹˜ í‘œì‹œë¥¼ ë„˜ì–´, ìš°ë¦¬ ì‚¬ê³ ë°©ì‹ê³¼ ì„¸ìƒì„ ì´í•´í•˜ëŠ” í‹€ì„ ë°˜ì˜í•©ë‹ˆë‹¤. ì´ ìŠ¬ë¼ì´ë“œ ë±ì„ í†µí•´ ì „ì¹˜ì‚¬ê°€ ì–´ë–»ê²Œ <strong class="highlight">êµ¬ì²´ì ì¸ ê³µê°„ ê°œë…</strong>ì—ì„œ ì¶œë°œí•˜ì—¬ <strong class="highlight">ì¶”ìƒì ì¸ ì˜ë¯¸</strong>ë¡œ í™•ì¥ë˜ëŠ”ì§€, ê·¸ í¥ë¯¸ë¡œìš´ ì—¬ì •ì„ í•¨ê»˜ íƒí—˜í•´ ë´…ì‹œë‹¤.</p>
                <h2>í•™ìŠµ ëª©í‘œ</h2>
                <ul>
                    <li>ì „ì¹˜ì‚¬ì˜ ë‹¤ì˜ì„±ê³¼ ì¶”ìƒì„±ì´ ë°œìƒí•˜ëŠ” ê·¼ë³¸ ì›ë¦¬ë¥¼ ì´í•´í•©ë‹ˆë‹¤.</li>
                    <li>'ë¬¼ë¦¬ì  ì˜ë¯¸ &rarr; ì€ìœ ì  ì—°ê²° &rarr; ì¶”ìƒì  ì˜ë¯¸'ì˜ 3ë‹¨ê³„ í™•ì¥ í”„ë ˆì„ì›Œí¬ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.</li>
                    <li>ê°œë… ì€ìœ  ì´ë¡ ì´ ì „ì¹˜ì‚¬ ì˜ë¯¸ í™•ì¥ì— ì–´ë–»ê²Œ ê¸°ì—¬í•˜ëŠ”ì§€ íŒŒì•…í•©ë‹ˆë‹¤.</li>
                    <li><span class="code-tag">on track</span>, <span class="code-tag">in trouble</span>, <span class="code-tag">under pressure</span> ë“± ì£¼ìš” ì „ì¹˜ì‚¬êµ¬ì˜ ì˜ë¯¸ í˜•ì„± ê³¼ì •ì„ ë¶„ì„í•©ë‹ˆë‹¤.</li>
                    <li>ì‹œê° ìë£Œì™€ ì¸í„°ë™í‹°ë¸Œ ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•´ ì§ê´€ì ì¸ ì´í•´ë¥¼ ë•ìŠµë‹ˆë‹¤.</li>
                </ul>
                <p class="slide-number">1 / 10</p>
            </div>

            <!-- Slide 2: ì „ì¹˜ì‚¬, ì™œ ì–´ë ¤ìš¸ê¹Œ? (ìœ ì§€) -->
            <div class="slide" id="slide2">
                <h2>ì „ì¹˜ì‚¬, ì™œ í•™ìŠµí•˜ê¸° ì–´ë ¤ìš¸ê¹Œìš”?</h2>
                <p>ë§ì€ ì˜ì–´ í•™ìŠµìë“¤ì´ ì „ì¹˜ì‚¬ ì‚¬ìš©ì— ì–´ë ¤ì›€ì„ ëŠë‚ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?</p>
                <ul>
                    <li><strong>ë‹¤ì˜ì„± (Polysemy):</strong> í•˜ë‚˜ì˜ ì „ì¹˜ì‚¬ê°€ ë¬¸ë§¥ì— ë”°ë¼ ë„ˆë¬´ë‚˜ ë§ì€ ë‹¤ë¥¸ ì˜ë¯¸ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. (ì˜ˆ: <span class="code-tag">on</span> the table, <span class="code-tag">on</span> Monday, <span class="code-tag">on</span> fire, depend <span class="code-tag">on</span>)</li>
                    <li><strong>ì¶”ìƒì„± (Abstractness):</strong> ë¬¼ë¦¬ì  ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì„ ë„˜ì–´, ì‹œê°„, ìƒíƒœ, ê´€ê³„ ë“± ì¶”ìƒì ì¸ ê°œë…ì„ í‘œí˜„í•˜ëŠ” ë° ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
                    <li><strong>ê´€ìš©ì  í‘œí˜„ (Idiomatic Expressions):</strong> íŠ¹ì • ë™ì‚¬ë‚˜ ëª…ì‚¬ì™€ ê²°í•©í•˜ì—¬ ê³ ìœ í•œ ì˜ë¯¸ë¥¼ í˜•ì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. (ì˜ˆ: <span class="code-tag">look forward to</span>, <span class="code-tag">in charge of</span>)</li>
                </ul>
                <p>ë‹¨ìˆœíˆ ê° ìš©ë²•ì„ ëª©ë¡í™”í•˜ì—¬ ì•”ê¸°í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë©°, ê·¸ ê¸°ì €ì— ìˆëŠ” <strong class="highlight">ì˜ë¯¸ í™•ì¥ ì›ë¦¬</strong>ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
                <div class="mermaid">
                    graph LR
                        A[ì „ì¹˜ì‚¬ í•™ìŠµì˜ ì–´ë ¤ì›€] --> B(ë‹¤ì˜ì„±);
                        A --> C(ì¶”ìƒì„±);
                        A --> D(ê´€ìš©ì  í‘œí˜„);
                        E[ì›ë¦¬ ì´í•´ í•„ìš”] --> A;
                    classDef default fill:#f9f9f9,stroke:#333,stroke-width:2px;
                    classDef highlight fill:#f1c40f,stroke:#c0392b,color:#2c3e50;
                    class E highlight;
                </div>
                <p class="slide-number">2 / 10</p>
            </div>

            <!-- Slide 3: í•µì‹¬ ì›ë¦¬ - 3ë‹¨ê³„ í”„ë ˆì„ì›Œí¬ (ìœ ì§€) -->
            <div class="slide" id="slide3">
                <h2>í•µì‹¬ ì›ë¦¬: ê³µê°„ì—ì„œ ì¶”ìƒìœ¼ë¡œ (3ë‹¨ê³„ í”„ë ˆì„ì›Œí¬)</h2>
                <p>ëŒ€ë¶€ë¶„ì˜ ì „ì¹˜ì‚¬ ì˜ë¯¸ í™•ì¥ì€ ë‹¤ìŒê³¼ ê°™ì€ 3ë‹¨ê³„ë¥¼ ê±°ì¹©ë‹ˆë‹¤.</p>
                <ol>
                    <li><strong>1ë‹¨ê³„: ë¬¼ë¦¬ì /ê³µê°„ì  ì˜ë¯¸ (ì›í˜•ì  ì˜ë¯¸)</strong>
                        <ul><li>ì „ì¹˜ì‚¬ê°€ ê°€ì§„ ê°€ì¥ ê¸°ë³¸ì ì´ê³  êµ¬ì²´ì ì¸, ëˆˆì— ë³´ì´ëŠ” ê³µê°„ ê´€ê³„ë‚˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</li></ul>
                    </li>
                    <li><strong>2ë‹¨ê³„: ì€ìœ ì  ì—°ê²° (Metaphorical Link)</strong>
                        <ul><li>1ë‹¨ê³„ì˜ ë¬¼ë¦¬ì  ê³µê°„ ì´ë¯¸ì§€ê°€ íŠ¹ì • ì¶”ìƒì  ìƒí™©, ê°œë…, ë˜ëŠ” ì¸ê°„ì˜ ê²½í—˜ê³¼ ì–´ë–»ê²Œ ìœ ì‚¬í•˜ê²Œ ì—°ê²°ë  ìˆ˜ ìˆëŠ”ì§€ <strong class="highlight">ì€ìœ ì ìœ¼ë¡œ ì‚¬ê³ </strong>í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤. ì´ë•Œ <strong class="highlight">ì´ë¯¸ì§€ ìŠ¤í‚¤ë§ˆ</strong>(ì˜ˆ: CONTAINER, PATH, SURFACE)ê°€ ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.</li></ul>
                    </li>
                    <li><strong>3ë‹¨ê³„: ì¶”ìƒì  ì˜ë¯¸ (Figurative Meaning)</strong>
                        <ul><li>2ë‹¨ê³„ì˜ ì€ìœ ì  ì—°ê²°ì„ í†µí•´, í•´ë‹¹ ì „ì¹˜ì‚¬ê°€ íŠ¹ì • ì¶”ìƒì  ìƒíƒœ, ê°ì •, ê´€ê³„, ì‹œê°„ ë“±ì„ ë‚˜íƒ€ë‚´ëŠ” ê´€ìš©ì ì¸ í‘œí˜„ìœ¼ë¡œ ì˜ë¯¸ê°€ êµ³ì–´ì§‘ë‹ˆë‹¤.</li></ul>
                    </li>
                </ol>
                <div class="d3-visualization" id="d3-framework-flow">
                    <p style="color: #888;">(D3.js ì‹œê°í™”: 3ë‹¨ê³„ í”„ë ˆì„ì›Œí¬ íë¦„ë„)</p>
                </div>
                <p>ì´ í”„ë ˆì„ì›Œí¬ë¥¼ ì´í•´í•˜ë©´, ê²‰ë³´ê¸°ì— ì—°ê´€ ì—†ì–´ ë³´ì´ëŠ” ì „ì¹˜ì‚¬ì˜ ë‹¤ì–‘í•œ ì˜ë¯¸ë“¤ì´ ì‚¬ì‹¤ì€ í•˜ë‚˜ì˜ ë¿Œë¦¬ì—ì„œ í™•ì¥ëœ ê²ƒì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <p class="slide-number">3 / 10</p>
            </div>

            <!-- Slide 4: ì˜ˆì‹œ 1 - on track (ìœ ì§€) -->
            <div class="slide" id="slide4">
                <h2>ì˜ˆì‹œ 1: <span class="code-tag">on track</span> ì‹¬ì¸µ ë¶„ì„</h2>
                <p>ì „ì¹˜ì‚¬êµ¬ <span class="code-tag">on track</span>ì´ ì–´ë–»ê²Œ "ê³„íšëŒ€ë¡œ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ ì¤‘ì¸"ì´ë¼ëŠ” ì¶”ìƒì  ì˜ë¯¸ë¥¼ ê°–ê²Œ ë˜ëŠ”ì§€ 3ë‹¨ê³„ í”„ë ˆì„ì›Œí¬ë¡œ ì‚´í´ë´…ì‹œë‹¤.</p>
                <div class="d3-visualization" id="d3-on-track-simulation" style="min-height: 350px;">
                     <p style="color: #888;">(D3.js ì‹œë®¬ë ˆì´ì…˜: 'on track' ì˜ë¯¸ í™•ì¥)</p>
                </div>
                <div class="interactive-area" style="text-align: center;">
                    <p><strong><span class="code-tag">on track</span>ì˜ ë‹¤ì–‘í•œ í™œìš©:</strong> ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜ˆë¬¸ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                    <button onclick="showExamplePopup('on-track-be')">be on track</button>
                    <button onclick="showExamplePopup('on-track-get')">get on track</button>
                    <button onclick="showExamplePopup('on-track-stay')">stay on track</button>
                    <button onclick="showExamplePopup('on-track-put')">put sth back on track</button>
                </div>
                <p class="slide-number">4 / 10</p>
            </div>

            <!-- Slide 5: ì˜ˆì‹œ 2 - in trouble (ìœ ì§€) -->
            <div class="slide" id="slide5">
                <h2>ì˜ˆì‹œ 2: <span class="code-tag">in trouble</span> ì‹¬ì¸µ ë¶„ì„</h2>
                <p>ì „ì¹˜ì‚¬êµ¬ <span class="code-tag">in trouble</span>ì´ "ê³¤ê²½ì— ì²˜í•œ"ì´ë¼ëŠ” ì¶”ìƒì  ì˜ë¯¸ë¥¼ ê°–ê²Œ ë˜ëŠ” ê³¼ì •ì„ ì‚´í´ë´…ì‹œë‹¤.</p>
                 <div class="d3-visualization" id="d3-in-trouble-simulation" style="min-height: 350px;">
                     <p style="color: #888;">(D3.js ì‹œë®¬ë ˆì´ì…˜: 'in trouble' ì˜ë¯¸ í™•ì¥)</p>
                </div>
                <div class="interactive-area" style="text-align: center;">
                    <p><strong><span class="code-tag">in trouble</span>ì˜ ë‹¤ì–‘í•œ í™œìš©:</strong></p>
                    <button onclick="showExamplePopup('in-trouble-be')">be in trouble</button>
                    <button onclick="showExamplePopup('in-trouble-get')">get into trouble</button>
                    <button onclick="showExamplePopup('in-trouble-keep')">keep sb out of trouble</button>
                </div>
                <p class="slide-number">5 / 10</p>
            </div>

            <!-- Slide 6: ì˜ˆì‹œ 3 - under pressure (ìœ ì§€) -->
            <div class="slide" id="slide6">
                <h2>ì˜ˆì‹œ 3: <span class="code-tag">under pressure</span> ì‹¬ì¸µ ë¶„ì„</h2>
                <p>ì „ì¹˜ì‚¬êµ¬ <span class="code-tag">under pressure</span>ê°€ "ì••ë°•ê°ì„ ëŠë¼ëŠ”"ì´ë¼ëŠ” ì¶”ìƒì  ì˜ë¯¸ë¥¼ ê°–ê²Œ ë˜ëŠ” ê³¼ì •ì„ ì‚´í´ë´…ì‹œë‹¤.</p>
                <div class="d3-visualization" id="d3-under-pressure-simulation" style="min-height: 350px;">
                     <p style="color: #888;">(D3.js ì‹œë®¬ë ˆì´ì…˜: 'under pressure' ì˜ë¯¸ í™•ì¥)</p>
                </div>
                 <div class="interactive-area" style="text-align: center;">
                    <p><strong><span class="code-tag">under pressure</span>ì˜ ë‹¤ì–‘í•œ í™œìš©:</strong></p>
                    <button onclick="showExamplePopup('under-pressure-be')">be under pressure</button>
                    <button onclick="showExamplePopup('under-pressure-work')">work under pressure</button>
                    <button onclick="showExamplePopup('under-pressure-put')">put sb under pressure</button>
                </div>
                <p class="slide-number">6 / 10</p>
            </div>

            <!-- Slide 7: ê°œë… ì€ìœ  ì´ë¡  (ë‚´ìš© ëŒ€í­ ë³´ê°•) -->
            <div class="slide" id="slide7">
                <h2>ê°œë… ì€ìœ  ì´ë¡  (Conceptual Metaphor Theory)</h2>
                <p>ì „ì¹˜ì‚¬ì˜ ì˜ë¯¸ í™•ì¥ì„ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•œ ì´ë¡ ì  ë°°ê²½ì€ Lakoffì™€ Johnsonì˜ <strong class="highlight">ê°œë… ì€ìœ  ì´ë¡ </strong>ì…ë‹ˆë‹¤. ì´ ì´ë¡ ì— ë”°ë¥´ë©´, ìš°ë¦¬ëŠ” ì¶”ìƒì ì¸ ê°œë…ì„ ì´í•´í•˜ê¸° ìœ„í•´ êµ¬ì²´ì ì´ê³  ê²½í—˜ì ì¸ ê°œë…ì„ í™œìš©í•©ë‹ˆë‹¤.</p>
                <h4>í•µì‹¬ ì•„ì´ë””ì–´</h4>
                <ul>
                    <li><strong>ì€ìœ ëŠ” ë‹¨ìˆœí•œ ìˆ˜ì‚¬ê°€ ì•„ë‹ˆë‹¤:</strong> ì€ìœ ëŠ” ìš°ë¦¬ì˜ ì‚¬ê³ ë°©ì‹ê³¼ ê°œë… ì²´ê³„ë¥¼ ê·¼ë³¸ì ìœ¼ë¡œ êµ¬ì¡°í™”í•©ë‹ˆë‹¤.</li>
                    <li><strong>ì¶œë°œ ì˜ì—­ &rarr; ëª©í‘œ ì˜ì—­:</strong> êµ¬ì²´ì ì¸ ê²½í—˜ ì˜ì—­(ì¶œë°œ ì˜ì—­, ì˜ˆ: ê³µê°„)ì„ í†µí•´ ì¶”ìƒì ì¸ ê°œë… ì˜ì—­(ëª©í‘œ ì˜ì—­, ì˜ˆ: ìƒíƒœ, ì‹œê°„)ì„ ì´í•´í•©ë‹ˆë‹¤. (<span class="code-tag">TARGET DOMAIN IS SOURCE DOMAIN</span>)</li>
                </ul>
                <h4>ì „ì¹˜ì‚¬ ì˜ë¯¸ í™•ì¥ì— ì¤‘ìš”í•œ ì£¼ìš” ê°œë… ì€ìœ ë“¤</h4>
                <div class="mermaid">
                graph TD
                    A["ì¶œë°œ ì˜ì—­: êµ¬ì²´ì  ê²½í—˜ (Source Domain)"] --> B["ëª©í‘œ ì˜ì—­: ì¶”ìƒì  ê°œë… (Target Domain)"];
                    
                    subgraph "ì€ìœ ì  ì‚¬ìƒ (Metaphorical Mapping)"
                        C["<strong style='color:#2980b9;'>ìƒíƒœëŠ” ê³µê°„ì´ë‹¤</strong><br>(STATES ARE LOCATIONS)<br><span class='example-en'>e.g., <em>in</em> trouble, <em>at</em> peace</span>"]
                        D["<strong style='color:#2980b9;'>ë³€í™”ëŠ” ì›€ì§ì„ì´ë‹¤</strong><br>(CHANGES ARE MOVEMENTS)<br><span class='example-en'>e.g., <em>get into</em> trouble, <em>fall out of</em> fashion</span>"]
                        E["<strong style='color:#2980b9;'>ëª©ì ì€ ëª©ì ì§€/ê²½ë¡œì´ë‹¤</strong><br>(PURPOSES ARE DESTINATIONS/PATHS)<br><span class='example-en'>e.g., <em>on</em> track, <em>off</em> course</span>"]
                        F["<strong style='color:#2980b9;'>ì–´ë ¤ì›€ì€ ì¥ì• ë¬¼/ê°‡íŒ ê³µê°„ì´ë‹¤</strong><br>(DIFFICULTIES ARE IMPEDIMENTS/ENCLOSURES)<br><span class='example-en'>e.g., <em>in</em> a bind, <em>at</em> a standstill</span>"]
                        G["<strong style='color:#2980b9;'>í†µì œëŠ” ìœ„/ì•ˆ, í†µì œ ìƒì‹¤ì€ ì•„ë˜/ë°–ì´ë‹¤</strong><br>(CONTROL IS UP/IN, LACK OF CONTROL IS DOWN/OUT)<br><span class='example-en'>e.g., <em>under</em> control, <em>out of</em> control</span>"]
                        H["<strong style='color:#2980b9;'>ì§€ì‹ì€ ë¹›, ë¬´ì§€ëŠ” ì–´ë‘ ì´ë‹¤</strong><br>(KNOWLEDGE IS LIGHT, IGNORANCE IS DARKNESS)<br><span class='example-en'>e.g., <em>in</em> the dark, shed light <em>on</em></span>"]
                        I["<strong style='color:#2980b9;'>ê°ì •/ì˜í–¥ë ¥ì€ ë¬¼ë¦¬ì  í˜ì´ë‹¤</strong><br>(EMOTIONS/INFLUENCES ARE PHYSICAL FORCES)<br><span class='example-en'>e.g., <em>under</em> pressure, fall <em>in</em> love</span>"]
                    end
                    A --> C; A --> D; A --> E; A --> F; A --> G; A --> H; A --> I;

                classDef default fill:#f4faff,stroke:#3498db,stroke-width:1.5px,color:#2c3e50,rx:5,ry:5;
                classDef sourceTarget fill:#e8f6f3,stroke:#1abc9c,color:#16a085,font-weight:bold;
                class A,B sourceTarget;
                </div>
                <p class="footnote">ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ ì£¼ìš” ê°œë… ì€ìœ ì˜ ì¼ë¶€ ì˜ˆì‹œì´ë©°, ì‹¤ì œë¡œëŠ” ë” ë‹¤ì–‘í•˜ê³  ë³µí•©ì ì¸ ì€ìœ ê°€ ì‘ìš©í•©ë‹ˆë‹¤. ê° ì€ìœ ëŠ” ìš°ë¦¬ê°€ ì„¸ìƒì„ ì–´ë–»ê²Œ ì¸ì‹í•˜ê³  ì–¸ì–´ë¡œ í‘œí˜„í•˜ëŠ”ì§€ì— ëŒ€í•œ ê¹Šì€ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                <p class="slide-number">7 / 10</p>
            </div>

            <!-- Slide 8: ë” ë§ì€ ì˜ˆì‹œì™€ ê°œë… ì€ìœ  ì ìš© (í‘œ í˜•ì‹ìœ¼ë¡œ ë³€ê²½) -->
            <div class="slide" id="slide8">
                <h2>ì£¼ìš” ì „ì¹˜ì‚¬êµ¬ì™€ ê°œë… ì€ìœ  ì ìš©</h2>
                <p>ë‹¤ì–‘í•œ ì „ì¹˜ì‚¬êµ¬ í‘œí˜„ë“¤ì´ ì–´ë–¤ ê³µê°„ ì´ë¯¸ì§€ì™€ ê°œë… ì€ìœ ì— ê¸°ë°˜í•˜ëŠ”ì§€ í‘œë¥¼ í†µí•´ ìì„¸íˆ ì‚´í´ë´…ì‹œë‹¤.</p>
                <table class="concept-table">
                    <thead>
                        <tr>
                            <th>í‘œí˜„ (ì „ì¹˜ì‚¬êµ¬)</th>
                            <th>ê³µê°„ ì´ë¯¸ì§€ (ì›í˜•ì  ì˜ë¯¸)</th>
                            <th>ì¶”ìƒì  ì˜ë¯¸ í•´ì„</th>
                            <th>ì£¼ìš” ê°œë… ì€ìœ </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>on track</strong></td>
                            <td>ì„ ë¡œ(track) ìœ„ì—(on) ì •í™•íˆ ë†“ì—¬ ìˆìŒ</td>
                            <td>ê³„íšëŒ€ë¡œ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ë˜ëŠ” ìƒíƒœ</td>
                            <td>PURPOSES ARE PATHS<br>STATES ARE LOCATIONS</td>
                        </tr>
                        <tr>
                            <td><strong>in trouble</strong></td>
                            <td>ê³¤ë€í•œ ì¥ì†Œ/í•¨ì •(trouble) ì•ˆ(in)ì— ìˆìŒ</td>
                            <td>ë¬¸ì œê°€ ìƒê¸°ê±°ë‚˜ ê³¤ê²½ì— ì²˜í•œ ìƒíƒœ</td>
                            <td>STATES ARE LOCATIONS<br>DIFFICULTIES ARE ENCLOSURES</td>
                        </tr>
                        <tr>
                            <td><strong>under pressure</strong></td>
                            <td>ë¬´ê±°ìš´ ê²ƒ(pressure)ì´ ìœ„ì—ì„œ ì•„ë˜ë¡œ(under) ëˆ„ë¦„</td>
                            <td>ì‹¬ë¦¬ì  ì••ë°•ê°ì´ë‚˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë¼ëŠ” ìƒíƒœ</td>
                            <td>EMOTIONS/INFLUENCES ARE PHYSICAL FORCES<br>SUBJECTION IS DOWN / CONTROL IS UP</td>
                        </tr>
                        <tr>
                            <td><strong>out of control</strong></td>
                            <td>í†µì œ(control) ë²”ìœ„ ë°–(out of)ìœ¼ë¡œ ë²—ì–´ë‚¨</td>
                            <td>ìƒí™©ì´ë‚˜ ê°ì • ë“±ì´ í†µì œ ë¶ˆëŠ¥ì¸ ìƒíƒœ</td>
                            <td>CONTROL IS CONTAINMENT<br>LACK OF CONTROL IS OUT</td>
                        </tr>
                        <tr>
                            <td><strong>at a standstill</strong></td>
                            <td>ì •í™•í•œ ì§€ì (at)ì—ì„œ ì™„ì „íˆ ë©ˆì¶°(standstill) ìˆìŒ</td>
                            <td>ì§„í–‰ì´ë‚˜ í™œë™ì´ ì™„ì „íˆ ì¤‘ë‹¨ëœ êµì°© ìƒíƒœ</td>
                            <td>STATES ARE LOCATIONS<br>LACK OF PROGRESS IS LACK OF MOTION</td>
                        </tr>
                        <tr>
                            <td><strong>on edge</strong></td>
                            <td>ê°€ì¥ìë¦¬(edge) ìœ„ì—(on) ìœ„íƒœë¡­ê²Œ ìˆìŒ</td>
                            <td>ë¶ˆì•ˆì •í•˜ê³  ê¸´ì¥ë˜ë©° ì˜ˆë¯¼í•œ ì‹¬ë¦¬ ìƒíƒœ</td>
                            <td>STATES ARE LOCATIONS (ìœ„íƒœë¡œìš´ ì¥ì†Œ)<br>EMOTIONAL STATES ARE PHYSICAL STATES</td>
                        </tr>
                        <tr>
                            <td><strong>in the dark</strong></td>
                            <td>ë¹›ì´ ì—†ëŠ” ì–´ë‘ìš´ ê³µê°„(dark) ì•ˆ(in)ì— ìˆìŒ</td>
                            <td>ì •ë³´ë¥¼ ì „í˜€ ëª¨ë¥´ê±°ë‚˜ ìƒí™© íŒŒì•…ì´ ì•ˆ ë˜ëŠ” ìƒíƒœ</td>
                            <td>KNOWLEDGE IS LIGHT<br>IGNORANCE IS DARKNESS<br>STATES ARE LOCATIONS</td>
                        </tr>
                        <tr>
                            <td><strong>under arrest</strong></td>
                            <td>ê¶Œìœ„ë‚˜ ë²•ì  êµ¬ì†ë ¥(arrest) ì•„ë˜(under)ì— ë†“ì„</td>
                            <td>ì²´í¬ë˜ì–´ êµ¬ê¸ˆëœ ìƒíƒœ</td>
                            <td>SUBJECTION IS DOWN<br>AUTHORITY IS UP<br>STATES ARE LOCATIONS</td>
                        </tr>
                        <tr>
                            <td><strong>off course / off track</strong></td>
                            <td>ì •í•´ì§„ ê²½ë¡œ(course/track)ì—ì„œ ë²—ì–´ë‚¨(off)</td>
                            <td>ì›ë˜ì˜ ê³„íš, ëª©í‘œ, ì£¼ì œ ë“±ì—ì„œ ì´íƒˆí•œ ìƒíƒœ</td>
                            <td>PURPOSES ARE DESTINATIONS/PATHS<br>DEVIATION IS OFF THE PATH</td>
                        </tr>
                        <tr>
                            <td><strong>in danger</strong></td>
                            <td>ìœ„í—˜(danger)ì´ë¼ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ê³µê°„ ì•ˆ(in)ì— ìˆìŒ</td>
                            <td>ìœ„í—˜í•œ ìƒí™©ì´ë‚˜ ìœ„í˜‘ì— ì§ë©´í•œ ìƒíƒœ</td>
                            <td>STATES ARE LOCATIONS<br>DANGER IS A LOCATION/CONTAINER</td>
                        </tr>
                    </tbody>
                </table>
                <p class="footnote">ê° í‘œí˜„ì€ ì—¬ëŸ¬ ê°œë… ì€ìœ ê°€ ë³µí•©ì ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ìœ„ì— ì œì‹œëœ ê²ƒì€ ì£¼ìš”í•œ ì—°ê²°ê³ ë¦¬ì…ë‹ˆë‹¤.</p>
                <p class="slide-number">8 / 10</p>
            </div>

            <!-- Slide 9: í•™ìŠµ ì „ëµ ë° ê²°ë¡  (ìœ ì§€) -->
            <div class="slide" id="slide9">
                <h2>ì „ì¹˜ì‚¬ í•™ìŠµ, ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?</h2>
                <p>ì „ì¹˜ì‚¬ì˜ ì˜ë¯¸ í™•ì¥ ì›ë¦¬ë¥¼ ì´í•´í–ˆë‹¤ë©´, ì´ì œ íš¨ê³¼ì ì¸ í•™ìŠµ ì „ëµì„ ì ìš©í•  ì°¨ë¡€ì…ë‹ˆë‹¤.</p>
                <ul>
                    <li><strong class="highlight">1. ì›í˜•ì  ì˜ë¯¸ íŒŒì•…:</strong> ê° ì „ì¹˜ì‚¬ê°€ ê°€ì§„ ê°€ì¥ ê¸°ë³¸ì ì¸ ê³µê°„ì  ì˜ë¯¸(ì´ë¯¸ì§€ ìŠ¤í‚¤ë§ˆ)ë¥¼ ë¨¼ì € ëª…í™•íˆ ì¸ì§€í•©ë‹ˆë‹¤.</li>
                    <li><strong class="highlight">2. ì€ìœ ì  ì—°ê²°ê³ ë¦¬ ì°¾ê¸°:</strong> ë¬¼ë¦¬ì  ì˜ë¯¸ê°€ ì–´ë–¤ ìƒí™©ì´ë‚˜ ê°œë…ê³¼ ìœ ì‚¬í•˜ê²Œ ì—°ê²°ë  ìˆ˜ ìˆëŠ”ì§€ ìƒìƒí•˜ê³  ìœ ì¶”í•´ë´…ë‹ˆë‹¤. (ì˜ˆ: 'ì•ˆì— ê°‡íŒë‹¤' &rarr; 'ê³¤ê²½ì— ì²˜í•œë‹¤')</li>
                    <li><strong class="highlight">3. ë¬¸ë§¥ ì†ì—ì„œ í•™ìŠµ:</strong> ë‹¤ì–‘í•œ ì˜ˆë¬¸ì„ í†µí•´ ì „ì¹˜ì‚¬ê°€ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€, ì–´ë–¤ ë™ì‚¬ë‚˜ ëª…ì‚¬ì™€ ìì£¼ ì–´ìš¸ë¦¬ëŠ”ì§€(ì—°ì–´ ê´€ê³„) ê´€ì°°í•©ë‹ˆë‹¤.</li>
                    <li><strong class="highlight">4. ê°œë… ì€ìœ  í™œìš©:</strong> "ìƒíƒœëŠ” ê³µê°„ì´ë‹¤"ì™€ ê°™ì€ ì£¼ìš” ê°œë… ì€ìœ ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê´€ë ¨ í‘œí˜„ë“¤ì„ ë¬¶ì–´ì„œ í•™ìŠµí•˜ë©´ íš¨ê³¼ì ì…ë‹ˆë‹¤.</li>
                    <li><strong class="highlight">5. ëŠ¥ë™ì  ì‚¬ìš©:</strong> ë°°ìš´ í‘œí˜„ì„ ì‹¤ì œ ë§í•˜ê¸°ë‚˜ ê¸€ì“°ê¸°ì— ì ê·¹ì ìœ¼ë¡œ í™œìš©í•´ë´…ë‹ˆë‹¤.</li>
                </ul>
                <p>ë‹¨ìˆœ ì•”ê¸°ë¥¼ ë„˜ì–´ <strong class="highlight">ì›ë¦¬ë¥¼ ì´í•´í•˜ê³  ì ìš©</strong>í•˜ëŠ” ê²ƒì´ ì „ì¹˜ì‚¬ ì •ë³µì˜ í•µì‹¬ì…ë‹ˆë‹¤!</p>
                <p class="slide-number">9 / 10</p>
            </div>

            <!-- Slide 10: Outro (ìœ ì§€) -->
            <div class="slide" id="slide10">
                <h1>ì—¬ì •ì„ ë§ˆì¹˜ë©°</h1>
                <p>ì „ì¹˜ì‚¬ëŠ” ì˜ì–´ì˜ ë¯¸ë¬˜í•œ ë‰˜ì•™ìŠ¤ë¥¼ ì „ë‹¬í•˜ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤. ê³µê°„ì—ì„œ ì¶œë°œí•˜ì—¬ ì¶”ìƒì ì¸ ì„¸ê³„ë¡œ í™•ì¥ë˜ëŠ” ì „ì¹˜ì‚¬ì˜ ì˜ë¯¸ ì—¬ì •ì„ ì´í•´í•¨ìœ¼ë¡œì¨, ì—¬ëŸ¬ë¶„ì˜ ì˜ì–´ëŠ” ë”ìš± ê¹Šì´ ìˆê³  í’ë¶€í•´ì§ˆ ê²ƒì…ë‹ˆë‹¤.</p>
                <p>ì˜¤ëŠ˜ ë°°ìš´ ì›ë¦¬ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì˜ì–´ ì „ì¹˜ì‚¬ì˜ ì„¸ê³„ë¥¼ ê³„ì† íƒí—˜í•´ë‚˜ê°€ì‹œê¸¸ ë°”ëë‹ˆë‹¤.</p>
                <p style="text-align:center; margin-top: 50px; font-size: 2em;">ğŸš€</p>
                <p class="slide-number">10 / 10</p>
            </div>
        </div>

        <div class="navigation-buttons">
            <button id="prevButton" class="nav-button" onclick="prevSlide()">ì´ì „</button>
            <button id="nextButton" class="nav-button" onclick="nextSlide()">ë‹¤ìŒ</button>
        </div>
    </div>

    <div id="example-popup" class="popup">
        <span class="popup-close" onclick="closePopup('example-popup')">&times;</span>
        <div class="popup-content" id="example-popup-content"></div>
    </div>
    <div id="preposition-info-popup" class="popup">
        <span class="popup-close" onclick="closePopup('preposition-info-popup')">&times;</span>
        <div class="popup-content">
            <h3 id="popup-expression" style="margin-top:0; color:#2980b9;"></h3>
            <p><strong>ê³µê°„ ì´ë¯¸ì§€ &rarr; ì¶”ìƒì  ì˜ë¯¸:</strong> <span id="popup-meaning"></span></p>
            <p><strong>ê´€ë ¨ ê°œë… ì€ìœ :</strong> <span id="popup-metaphor"></span></p>
        </div>
    </div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === index);
            slide.style.display = (i === index) ? 'block' : 'none';
        });
        prevButton.disabled = index === 0;
        nextButton.disabled = index === totalSlides - 1;

        if (index === 2 && typeof renderFrameworkFlow === 'function') renderFrameworkFlow();
        if (index === 3 && typeof renderOnTrackSimulation === 'function') renderOnTrackSimulation();
        if (index === 4 && typeof renderInTroubleSimulation === 'function') renderInTroubleSimulation();
        if (index === 5 && typeof renderUnderPressureSimulation === 'function') renderUnderPressureSimulation();
    }

    function nextSlide() { if (currentSlide < totalSlides - 1) { currentSlide++; showSlide(currentSlide); } }
    function prevSlide() { if (currentSlide > 0) { currentSlide--; showSlide(currentSlide); } }

    const examplePopups = {
        'on-track-be': { title: "be on track", en: "The project <em>is on track</em>.", kr: "í”„ë¡œì íŠ¸ê°€ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ ì¤‘ì´ë‹¤." },
        'on-track-get': { title: "get on track", en: "We need to <em>get</em> the project <em>on track</em>.", kr: "ìš°ë¦¬ëŠ” í”„ë¡œì íŠ¸ë¥¼ ë³¸ê¶¤ë„ì— ì˜¬ë ¤ì•¼ í•œë‹¤." },
        'on-track-stay': { title: "stay on track", en: "Let's <em>stay on track</em> with our goals.", kr: "ìš°ë¦¬ ëª©í‘œì— ê³„ì† ì§‘ì¤‘í•©ì‹œë‹¤." },
        'on-track-put': { title: "put sth back on track", en: "He helped <em>put</em> the company <em>back on track</em>.", kr: "ê·¸ëŠ” íšŒì‚¬ë¥¼ ë‹¤ì‹œ ì •ìƒê¶¤ë„ì— ì˜¬ë ¤ë†“ëŠ” ë° ë„ì›€ì„ ì£¼ì—ˆë‹¤." },
        'in-trouble-be': { title: "be in trouble", en: "She knew she <em>was in trouble</em>.", kr: "ê·¸ë…€ëŠ” ìì‹ ì´ ê³¤ê²½ì— ì²˜í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤." },
        'in-trouble-get': { title: "get into trouble", en: "Try not to <em>get into trouble</em>.", kr: "ê³¤ê²½ì— ë¹ ì§€ì§€ ì•Šë„ë¡ ë…¸ë ¥í•´ë¼." },
        'in-trouble-keep': { title: "keep sb out of trouble", en: "Her parents tried to <em>keep her out of trouble</em>.", kr: "ê·¸ë…€ì˜ ë¶€ëª¨ë‹˜ì€ ê·¸ë…€ê°€ ë§ì½ì„ í”¼ìš°ì§€ ì•Šë„ë¡ í•˜ë ¤ í–ˆë‹¤." },
        'under-pressure-be': { title: "be under pressure", en: "He <em>is under pressure</em> to finish by Friday.", kr: "ê·¸ëŠ” ê¸ˆìš”ì¼ê¹Œì§€ ëë‚´ì•¼ í•œë‹¤ëŠ” ì••ë°•ì„ ë°›ê³  ìˆë‹¤." },
        'under-pressure-work': { title: "work under pressure", en: "She <em>works well under pressure</em>.", kr: "ê·¸ë…€ëŠ” ì••ë°•ê° ì†ì—ì„œë„ ì¼ì„ ì˜í•œë‹¤." },
        'under-pressure-put': { title: "put sb under pressure", en: "Don't <em>put me under pressure</em>!", kr: "ë‚˜ì—ê²Œ ì••ë°• ì£¼ì§€ ë§ˆ!" }
    };

    function showExamplePopup(key) {
        const popupData = examplePopups[key];
        if (!popupData) return;
        const popup = document.getElementById('example-popup');
        const contentDiv = document.getElementById('example-popup-content');
        contentDiv.innerHTML = `<h3 style="margin-top:0; color:#2980b9;">${popupData.title}</h3>
                               <p class="example-en" style="margin-bottom: 0.5em;">${popupData.en}</p>
                               <p class="example-kr">${popupData.kr}</p>`;
        popup.style.display = 'block';
    }
    
    function showPrepositionInfo(expression, meaning, metaphor) {
        const popup = document.getElementById('preposition-info-popup');
        document.getElementById('popup-expression').textContent = expression.toUpperCase();
        document.getElementById('popup-meaning').innerHTML = meaning.replace(/&rarr;/g, '<strong>&rarr;</strong>');
        document.getElementById('popup-metaphor').innerHTML = metaphor.replace(/\n/g, '<br>');
        popup.style.display = 'block';
    }

    function closePopup(popupId) { document.getElementById(popupId).style.display = 'none'; }
    
    mermaid.initialize({ startOnLoad: true, theme: 'neutral', securityLevel: 'loose', fontFamily: '"Noto Sans KR", sans-serif' });

    function renderFrameworkFlow() {
        const vizContainer = d3.select("#d3-framework-flow");
        vizContainer.html(""); 
        const width = Math.min(vizContainer.node().getBoundingClientRect().width * 0.95, 700);
        const height = 200;

        const svg = vizContainer.append("svg").attr("width", width).attr("height", height);
        svg.append("defs").append("marker")
            .attr("id", "arrowhead")
            .attr("viewBox", "-0 -5 10 10").attr("refX", 18).attr("refY", 0) // Adjusted refX for larger nodes
            .attr("orient", "auto").attr("markerWidth", 7).attr("markerHeight", 7)
            .append("svg:path").attr("d", "M 0,-5 L 10 ,0 L 0,5").attr("fill", "#3498db");

        const nodeWidth = 160, nodeHeight = 70;
        const nodesData = [
            { id: 1, text: "1. ë¬¼ë¦¬ì /ê³µê°„ì \nì˜ë¯¸ (ì›í˜•)", x: width * 0.18, y: height / 2, color: "#3498db" },
            { id: 2, text: "2. ì€ìœ ì  ì—°ê²°\n(ì´ë¯¸ì§€ ìŠ¤í‚¤ë§ˆ)", x: width * 0.5, y: height / 2, color: "#f1c40f" },
            { id: 3, text: "3. ì¶”ìƒì  ì˜ë¯¸\n(ë¹„ìœ ì  í™•ì¥)", x: width * 0.82, y: height / 2, color: "#2ecc71" }
        ];
        const linksData = [ { source: 1, target: 2 }, { source: 2, target: 3 } ];

        const link = svg.append("g").selectAll("line")
            .data(linksData)
            .join("line")
            .attr("x1", d => nodesData.find(n => n.id === d.source).x + nodeWidth/2 -10) // Adjusted for node width
            .attr("y1", d => nodesData.find(n => n.id === d.source).y)
            .attr("x2", d => nodesData.find(n => n.id === d.target).x - nodeWidth/2 +10) // Adjusted for node width
            .attr("y2", d => nodesData.find(n => n.id === d.target).y)
            .attr("class", "d3-arrow")
            .style("opacity", 0);

        const node = svg.append("g").selectAll("g")
            .data(nodesData)
            .join("g")
            .attr("transform", d => `translate(${d.x},${d.y})`)
            .style("opacity", 0);

        node.append("rect")
            .attr("x", -nodeWidth/2)
            .attr("y", -nodeHeight/2)
            .attr("width", nodeWidth)
            .attr("height", nodeHeight)
            .attr("rx", 8)
            .attr("fill", d => d.color)
            .attr("stroke", d => d3.color(d.color).darker(0.7))
            .attr("stroke-width", 2);
        
        node.selectAll("text")
            .data(d => d.text.split("\n"))
            .enter().append("text")
            .attr("dy", (d,i,arr) => (i - (arr.length-1)/2) * 1.3 + "em") // Centering multi-line text
            .attr("text-anchor", "middle")
            .style("font-size", "13px")
            .style("fill", d => d3.color(nodesData.find(n => n.text.includes(d)).color).l > 0.6 ? "#2c3e50" : "white") // Text color contrast
            .style("font-weight", "500")
            .text(d => d);

        node.transition().duration(700).delay((d,i) => i * 800).style("opacity", 1);
        link.transition().duration(700).delay((d,i) => 600 + i * 800).style("opacity", 1);
    }
    
    // ìŠ¬ë¼ì´ë“œ 4, 5, 6ì˜ D3 ì‹œë®¬ë ˆì´ì…˜ í•¨ìˆ˜ë“¤ì€ ì´ì „ ì½”ë“œì™€ ìœ ì‚¬í•˜ê²Œ ìœ ì§€í•˜ê±°ë‚˜,
    // ê° ì „ì¹˜ì‚¬ì˜ í•µì‹¬ ì´ë¯¸ì§€ë¥¼ ë” ëª…í™•íˆ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    // ì—¬ê¸°ì„œëŠ” ì´ì „ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ê³ , í•„ìš”ì‹œ ê° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

    function createSimpleIcon(svg, iconType, x, y, size, color, label) {
        const g = svg.append("g").attr("transform", `translate(${x},${y})`).style("opacity",0);
        if (iconType === "train_on_track") {
            g.append("rect").attr("x", -size/2).attr("y", -size/4).attr("width", size).attr("height", size/2).attr("fill", color);
            g.append("line").attr("x1", -size*0.8).attr("y1", size/2 + 5).attr("x2", size*0.8).attr("y2", size/2 + 5).attr("stroke", "#7f8c8d").attr("stroke-width", 3);
            g.append("line").attr("x1", -size*0.8).attr("y1", size/2 + 10).attr("x2", size*0.8).attr("y2", size/2 + 10).attr("stroke", "#7f8c8d").attr("stroke-width", 3);
        } else if (iconType === "person_in_pit") {
            g.append("rect").attr("x", -size/2).attr("y", 0).attr("width", size).attr("height", size*0.6).attr("fill", "#7f8c8d"); // Pit
            g.append("circle").attr("cy", -size*0.2).attr("r", size*0.2).attr("fill", color); // Person
        } else if (iconType === "person_under_weight") {
            g.append("circle").attr("cy", size*0.1).attr("r", size*0.2).attr("fill", color); // Head
            g.append("rect").attr("x", -size*0.1).attr("y", size*0.3).attr("width", size*0.2).attr("height", size*0.4).attr("fill", color); // Body
            g.append("rect").attr("x", -size*0.6).attr("y", -size*0.5).attr("width", size*1.2).attr("height", size*0.4).attr("fill", "#7f8c8d"); // Weight
        }
        g.append("text").attr("y", size*0.8 + 15).text(label).attr("class", "d3-label").style("font-size","11px");
        return g;
    }

    function createAbstractIcon(svg, iconType, x, y, size, color, label) {
        const g = svg.append("g").attr("transform", `translate(${x},${y})`).style("opacity",0);
         if (iconType === "progress_bar") {
            g.append("rect").attr("x", -size/2).attr("y", -size/8).attr("width", size).attr("height", size/4).attr("rx",5).attr("fill", "#ecf0f1").attr("stroke", "#bdc3c7");
            g.append("rect").attr("x", -size/2).attr("y", -size/8).attr("width", size*0.8).attr("height", size/4).attr("rx",5).attr("fill", color);
        } else if (iconType === "worried_face") {
            g.append("circle").attr("r", size*0.4).attr("fill", color);
            g.append("circle").attr("cx", -size*0.1).attr("cy", -size*0.05).attr("r", size*0.05).attr("fill", "white");
            g.append("circle").attr("cx", size*0.1).attr("cy", -size*0.05).attr("r", size*0.05).attr("fill", "white");
            g.append("path").attr("d", `M ${-size*0.15} ${size*0.1} Q 0 0 ${size*0.15} ${size*0.1}`).attr("stroke", "white").attr("stroke-width", 2).attr("fill","none");
        } else if (iconType === "stressed_person") {
            g.append("circle").attr("r", size*0.4).attr("fill", color);
            g.append("text").text("ğŸ¤¯").attr("text-anchor","middle").attr("dy",".3em").style("font-size", size*0.6+"px");
        }
        g.append("text").attr("y", size*0.5 + 20).text(label).attr("class", "d3-label").style("font-size","11px");
        return g;
    }

    function animateTransition(svg, x1, y1, x2, y2, delay) {
        return svg.append("path")
            .attr("d", `M ${x1} ${y1} Q ${(x1+x2)/2} ${y1-30} ${x2} ${y2}`) // Curved arrow
            .attr("class", "d3-arrow")
            .style("opacity", 0)
            .attr("fill", "none")
            .transition().duration(600).delay(delay).style("opacity", 1);
    }

    function setupSimulation(containerId, physicalIcon, physicalLabel, metaphorLabel, abstractIcon, abstractLabel, physicalColor, abstractColor) {
        const vizContainer = d3.select(containerId);
        vizContainer.html("");
        const width = Math.min(vizContainer.node().getBoundingClientRect().width, 600);
        const height = 280;
        const svg = vizContainer.append("svg").attr("width", width).attr("height", height);
        svg.append("defs").append("marker")
            .attr("id", "arrowhead")
            .attr("viewBox", "-0 -5 10 10").attr("refX", 8).attr("refY", 0)
            .attr("orient", "auto").attr("markerWidth", 6).attr("markerHeight", 6)
            .append("svg:path").attr("d", "M 0,-5 L 10 ,0 L 0,5").attr("fill", "#3498db");

        const iconSize = 80;
        const yPos = height / 2 - 20;
        const xPos1 = width * 0.15;
        const xPos2 = width * 0.5;
        const xPos3 = width * 0.85;

        const physical = createSimpleIcon(svg, physicalIcon, xPos1, yPos, iconSize, physicalColor, physicalLabel);
        const metaphorText = svg.append("text").attr("x", xPos2).attr("y", yPos + iconSize/2 + 5).text(metaphorLabel).attr("class", "d3-label").style("opacity",0).style("font-style","italic");
        const abstract = createAbstractIcon(svg, abstractIcon, xPos3, yPos, iconSize, abstractColor, abstractLabel);

        physical.transition().duration(700).style("opacity", 1);
        animateTransition(svg, xPos1 + iconSize/2, yPos, xPos2 - 30, yPos, 700); // Arrow to metaphor
        metaphorText.transition().duration(700).delay(1000).style("opacity", 1);
        animateTransition(svg, xPos2 + 30, yPos, xPos3 - iconSize/2, yPos, 1700); // Arrow to abstract
        abstract.transition().duration(700).delay(2400).style("opacity", 1);
    }

    function renderOnTrackSimulation() {
        setupSimulation("#d3-on-track-simulation", "train_on_track", "ê¸°ì°¨ on ì„ ë¡œ", "ì„ ë¡œ = ê³„íšëœ ê²½ë¡œ", "progress_bar", "ê³„íšëŒ€ë¡œ ì§„í–‰", "#3498db", "#2ecc71");
    }
    function renderInTroubleSimulation() {
        setupSimulation("#d3-in-trouble-simulation", "person_in_pit", "ì‚¬ëŒ in í•¨ì •", "ê°‡í˜ = ë¬¸ì œ ìƒí™©", "worried_face", "ê³¤ê²½ì— ì²˜í•¨", "#3498db", "#e74c3c");
    }
    function renderUnderPressureSimulation() {
        setupSimulation("#d3-under-pressure-simulation", "person_under_weight", "ì‚¬ëŒ under ë¬´ê²Œ", "ë¬¼ë¦¬ì  ì••ë°• = ì‹¬ë¦¬ì  ë¶€ë‹´", "stressed_person", "ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ìŒ", "#3498db", "#e67e22");
    }

    document.addEventListener('DOMContentLoaded', () => { showSlide(0); });
</script>
</body>
</html>